import{u as pe,_ as me}from"./index.a2bf8911.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               */import{c as _e,d as fe,e as c,r as z,o as ge,w as he,aL as k,C as p,D as E,aI as a,u as r,aH as t,aN as u,aK as U,aJ as L,aE as T,aO as d,c0 as Fe,aF as Ee,aS as _,bL as ve,bM as be,bb as xe,b_ as we,c4 as ye,bj as Ce,b9 as ke,ce as De,aW as Ne,aY as Be,ba as Ve,b$ as Ie,c6 as Se,bP as Ae,bO as ze}from"./arco.b02d9b55.js";import{u as Ue}from"./loading.7f7bf96d.js";import{c as j}from"./cloneDeep.bb231cd9.js";import{c as Le,b as Te,f as je,d as Me}from"./project.2f54d37c.js";import{a as Oe}from"./index.c4821ce7.js";import Pe from"./EditForm.401e1b87.js";import{I as M}from"./Icon.031e5930.js";import{h as Re}from"./vue.e4c26cfd.js";import"./chart.67655b2c.js";/* empty css               *//* empty css               */import"./IconPicker.7129cb1a.js";const Ke=_e(()=>[{title:"\u7F16\u53F7",dataIndex:"id",slotName:"id",width:80,align:"center"},{title:"\u5408\u4F5C\u5E73\u53F0",dataIndex:"platform",slotName:"platform",width:100,fixed:"left",align:"center"},{title:"\u5408\u4F5C\u65F6\u95F4",dataIndex:"cooperate_time",slotName:"cooperate_time",width:115,align:"center"},{title:"\u8D26\u53F7\u7C7B\u578B",dataIndex:"account_type",slotName:"account_type",width:100,align:"center"},{title:"\u8D26\u53F7\u6635\u79F0",dataIndex:"account_nikename",slotName:"account_nikename",tooltip:{position:"left"},ellipsis:!0,width:160,align:"center"},{title:"\u7C89\u4E1D\u6570",dataIndex:"fanscnt",slotName:"fanscnt",width:100,align:"center"},{title:"\u53D1\u5E03\u94FE\u63A5",dataIndex:"publish_link",slotName:"publish_link",ellipsis:!0,tooltip:{position:"left"},width:150,align:"center"},{title:"\u5408\u4F5C\u5F62\u5F0F",dataIndex:"cooperate_type",slotName:"cooperate_type",width:120,align:"center"},{title:"\u5E73\u53F0\u4EF7/\u520A\u4F8B",dataIndex:"platform_price",slotName:"platform_price",width:120,align:"center"},{title:"\u6267\u884C\u4EF7\uFF08\u542B\u7A0E\uFF09",dataIndex:"actual_price",slotName:"actual_price",width:130,align:"center"},{title:"\u6298\u6263\u8BF4\u660E",dataIndex:"discount_note",slotName:"discount_note",width:120,align:"center"},{title:"\u7A0E\u7387",dataIndex:"tax_rate",slotName:"tax_rate",width:120,align:"center"},{title:"\u4E8B\u4E1A\u90E8",dataIndex:"department",slotName:"department",width:120,align:"center"},{title:"\u9879\u76EE\u53F7",dataIndex:"projectno",slotName:"projectno",ellipsis:!0,tooltip:!0,width:160,align:"center"},{title:"\u9879\u76EE\u540D\u79F0",dataIndex:"project_name",slotName:"project_name",tooltip:!0,ellipsis:!0,width:180,align:"center"},{title:"\u652F\u4ED8\u5355\u53F7",dataIndex:"payno",slotName:"payno",ellipsis:!0,tooltip:{position:"left"},width:160,align:"center"},{title:"\u4F9B\u5E94\u5546\u540D\u79F0",dataIndex:"supply_name",slotName:"supply_name",ellipsis:!0,tooltip:{position:"left"},width:160,align:"center"},{title:"\u8054\u7CFB\u65B9\u5F0F",dataIndex:"contact",slotName:"contact",ellipsis:!0,tooltip:{position:"left"},width:160,align:"center"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",width:100,fixed:"right",align:"center"}]),Ye={class:"container"},$e={key:0,style:{"padding-left":"5px",color:"var(--color-neutral-4)"}},He={name:"article"},Ge=fe({...He,setup(Je){const D=Re();pe();const[O,{openModal:P}]=Oe(),v=c([]),b=c([]),R=z({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),i=z({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0});document.documentElement.clientHeight;const{loading:K,setLoading:N}=Ue(!0),B=c([]),f=c([]),Y=c([]);c("large");const V=()=>({platform:["\u4E0D\u9650"],fansCnt:"0",priceRange:"0",accountType:["\u4E0D\u9650"],projectNo:"",cooperateTime:0,accountNikeName:"",downloadAll:!1}),n=c(V()),s=async()=>{N(!0),$();try{const l=await Le({page:i.current,pageSize:i.pageSize,...n.value});B.value=l.items,i.current=l.page,i.total=l.total}catch{}finally{N(!1)}},$=async()=>{try{const l=await Te({});v.value.length=0,b.value.length=0;for(let o of l.items)o.cate_type=="platform"?v.value.push(o):o.cate_type=="account_type"&&b.value.push(o)}catch{}};ge(()=>{});const H=()=>{s()},G=()=>{n.value=V(),s()};window==null||window.globalConfig.Main_url;const J=async()=>{try{const l=await je(n.value);if(l.status==200){const o=new Blob([l.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),g=URL.createObjectURL(o),m=document.createElement("a");m.href=g,m.download="\u53D1\u6587\u6570\u636E.xlsx",m.click()}else _.error({content:"\u4E0B\u8F7D\u5931\u8D25!",id:"upStatus"})}catch(l){console.error(l),_.error({content:"\u4E0B\u8F7D\u5931\u8D25",id:"upStatus"})}};s();const W=l=>{if(l.length>1)for(let o of l)o=="\u4E0D\u9650"&&console.log(o)};he(()=>Ke.value,l=>{f.value=j(l),f.value.forEach((o,g)=>{o.checked=!0}),Y.value=j(f.value)},{deep:!0,immediate:!0});const q=async l=>{P(!0,{isUpdate:!0,record:l})},Q=async()=>{s()},X=l=>{i.current=l,s()},Z=l=>{i.pageSize=l,s()},ee=async l=>{try{_.loading({content:"\u5220\u9664\u4E2D",id:"upStatus"}),await Me({ids:[l.id]})&&(s(),_.success({content:"\u5220\u9664\u6210\u529F",id:"upStatus"}))}catch{_.clear("top")}},te=[{label:"\u4E0D\u9650",value:"0"},{label:"1\u4E07\u4EE5\u4E0B",value:"0-10000"},{label:"1\uFF5E5\u4E07",value:"1-50000"},{label:"5\uFF5E10\u4E07",value:"50000-100000"}],ae=[{label:"\u4E0D\u9650",value:"0"},{label:"1000\u5143\u4EE5\u4E0B",value:"0-1000"},{label:"1000\uFF5E5000\u5143",value:"1000-5000"},{label:"5000\uFF5E10000\u5143",value:"5000-10000"},{label:"1\u4E07\u5143\uFF5E5\u4E07\u5143",value:"100000-500000"},{label:"5\u4E07\u5143\uFF5E20\u4E07\u5143",value:"500000-2000000"},{label:"20\u4E07\u5143\u4EE5\u4E0A",value:"2000000-1000000000"}],oe=[{label:"\u4E0D\u9650",value:0},{label:"\u8FD130\u5929",value:30},{label:"\u8FD190\u5929",value:90},{label:"\u8FD1180\u5929",value:180},{label:"\u8FD11\u5E74",value:365}];return(l,o)=>{const g=k("Breadcrumb"),m=ve,h=be,x=xe,F=we,w=ye,I=Ce,S=ke,le=De,A=Ne,ne=k("icon-search"),y=Be,ue=k("icon-download"),ie=Ve,se=Ie,ce=Se,re=Ae,de=ze;return p(),E("div",Ye,[a(g,{items:[r(D).matched[0].meta.locale,r(D).meta.locale]},null,8,["items"]),a(de,{class:"general-card onelineCard",style:{height:"calc(100% - 50px)"}},{default:t(()=>[a(w,{style:{"margin-bottom":"10px"}},{default:t(()=>[a(F,{span:24},{default:t(()=>[a(x,{size:"large"},{default:t(()=>[a(h,{modelValue:n.value.platform,"onUpdate:modelValue":o[0]||(o[0]=e=>n.value.platform=e),placeholder:"\u5E73\u53F0\u7C7B\u578B",style:{width:"220px"}},{prefix:t(()=>[u("\u5E73\u53F0\u7C7B\u578B:")]),default:t(()=>[(p(!0),E(U,null,L(v.value,e=>(p(),T(m,{value:e.cate},{default:t(()=>[u(d(e.cate),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),a(h,{modelValue:n.value.fansCnt,"onUpdate:modelValue":o[1]||(o[1]=e=>n.value.fansCnt=e),options:te,placeholder:"\u7C89\u4E1D\u6570",style:{width:"220px"}},{prefix:t(()=>[u("\u7C89\u4E1D\u6570:")]),_:1},8,["modelValue"]),a(h,{modelValue:n.value.priceRange,"onUpdate:modelValue":o[2]||(o[2]=e=>n.value.priceRange=e),options:ae,placeholder:"\u4EF7\u683C\u533A\u95F4",style:{width:"250px"}},{prefix:t(()=>[u(" \u5E73\u53F0\u4EF7: ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(w,{style:{"margin-bottom":"10px"}},{default:t(()=>[a(F,{span:24},{default:t(()=>[a(le,{modelValue:n.value.accountType,"onUpdate:modelValue":o[3]||(o[3]=e=>n.value.accountType=e),onChange:W},{default:t(()=>[a(I,{size:"large"},{default:t(()=>[u("\u8D26\u53F7\u7C7B\u578B:")]),_:1}),(p(!0),E(U,null,L(b.value,e=>(p(),T(S,{key:e,value:e.cate},{checkbox:t(({checked:C})=>[a(I,{size:"large",checked:C,"default-checked":"",checkable:"",color:"arcoblue"},{default:t(()=>[u(d(e.cate),1)]),_:2},1032,["checked"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(w,{style:{"margin-bottom":"10px"}},{default:t(()=>[a(F,{span:14},{default:t(()=>[a(x,null,{default:t(()=>[a(A,{style:{width:"300px"},modelValue:n.value.accountNikeName,"onUpdate:modelValue":o[4]||(o[4]=e=>n.value.accountNikeName=e),placeholder:"\u8D26\u53F7\u6635\u79F0","allow-clear":""},{prefix:t(()=>[u("\u8D26\u53F7\u6635\u79F0: ")]),_:1},8,["modelValue"]),a(A,{style:{width:"250px"},modelValue:n.value.projectNo,"onUpdate:modelValue":o[5]||(o[5]=e=>n.value.projectNo=e),placeholder:"\u9879\u76EE\u53F7","allow-clear":""},{prefix:t(()=>[u("\u9879\u76EE\u53F7: ")]),_:1},8,["modelValue"]),a(h,{style:{width:"200px"},options:oe,modelValue:n.value.cooperateTime,"onUpdate:modelValue":o[6]||(o[6]=e=>n.value.cooperateTime=e),placeholder:"\u5408\u4F5C\u65F6\u95F4"},{prefix:t(()=>[u("\u5408\u4F5C\u65F6\u95F4: ")]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(F,{span:10,style:{"text-align":"right"}},{default:t(()=>[a(x,null,{default:t(()=>[a(y,{type:"primary",onClick:H},{icon:t(()=>[a(ne)]),default:t(()=>[u(" \u67E5\u8BE2 ")]),_:1}),a(y,{onClick:G},{default:t(()=>[u(d(l.$t("searchTable.form.reset")),1)]),_:1}),a(S,{modelValue:n.value.downloadAll,"onUpdate:modelValue":o[7]||(o[7]=e=>n.value.downloadAll=e)},{default:t(()=>[u("\u5168\u9009\u4E0B\u8F7D")]),_:1},8,["modelValue"]),a(y,{type:"primary",onClick:J},{icon:t(()=>[a(ue)]),default:t(()=>[u("\u5BFC\u51FA ")]),_:1})]),_:1})]),_:1})]),_:1}),a(re,{"row-selection":R,selectedKeys:n.value.selectedKeys,"onUpdate:selectedKeys":o[8]||(o[8]=e=>n.value.selectedKeys=e),"row-key":"id",loading:r(K),pagination:i,columns:f.value,data:B.value,bordered:{wrapper:!0,cell:!0},size:"large",scroll:{x:800},"default-expand-all-rows":!0,ref:"artable",onPageChange:X,onPageSizeChange:Z},{cooperate_time:t(({record:e})=>[u(d(r(Fe)(e.cooperate_time*1e3).format("YYYY-MM-DD")),1)]),publish_link:t(({record:e})=>[a(ie,{href:e.publish_link,status:"success",target:"_blank"},{default:t(()=>[u(d(e.publish_link),1)]),_:2},1032,["href"])]),name:t(({record:e})=>[u(d(e.name),1),e.nickname?(p(),E("span",$e,d(e.nickname),1)):Ee("",!0)]),operations:t(({record:e})=>[a(r(M),{icon:"svgfont-bianji1",class:"iconbtn",onClick:C=>q(e),size:18,color:"#0960bd"},null,8,["onClick"]),a(se,{direction:"vertical"}),a(ce,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:C=>ee(e)},{default:t(()=>[a(r(M),{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:2},1032,["onOk"])]),_:1},8,["row-selection","selectedKeys","loading","pagination","columns","data"])]),_:1}),a(Pe,{onRegister:r(O),onSuccess:Q},null,8,["onRegister"])])}}});const kt=me(Ge,[["__scopeId","data-v-c10d6fdf"]]);export{kt as default};
