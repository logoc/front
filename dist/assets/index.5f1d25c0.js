import{n as B,p as x,_ as D}from"./index.a2bf8911.js";/* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               */import{c as M,d as k,e as u,r as A,c0 as P,aL as C,C as S,aE as V,aH as n,G as N,F as z,aI as o,aN as p,aO as H,bU as j,aW as $,bb as L,b_ as U,c4 as R,ba as T,b$ as O,c6 as G,bP as W}from"./arco.b02d9b55.js";import{B as q,u as J}from"./index.c4821ce7.js";import{u as K}from"./loading.7f7bf96d.js";import Q from"./AddForm.5f13537c.js";import{I as X}from"./IconPicker.7129cb1a.js";import{I as Y}from"./Icon.031e5930.js";import"./chart.67655b2c.js";import"./vue.e4c26cfd.js";/* empty css               *//* empty css               */import"./project.2f54d37c.js";const Z=M(()=>[{title:"ID",dataIndex:"id",slotName:"id",width:80,align:"center"},{title:"\u5408\u4F5C\u5E73\u53F0",dataIndex:"platform",slotName:"platform",width:100,fixed:"left",align:"center"},{title:"\u5408\u4F5C\u65F6\u95F4",dataIndex:"cooperate_time",slotName:"cooperate_time",width:120,align:"center"},{title:"\u8D26\u53F7\u7C7B\u578B",dataIndex:"account_type",slotName:"account_type",width:100,align:"center"},{title:"\u8D26\u53F7\u6635\u79F0",dataIndex:"account_nikename",slotName:"account_nikename",tooltip:{position:"left"},ellipsis:!0,width:160,align:"center"},{title:"\u7C89\u4E1D\u6570(\u4E07)",dataIndex:"fanscnt",slotName:"fanscnt",width:100,align:"center"},{title:"\u53D1\u5E03\u94FE\u63A5",dataIndex:"publish_link",slotName:"publish_link",ellipsis:!0,tooltip:{position:"left"},width:150,align:"center"},{title:"\u5408\u4F5C\u5F62\u5F0F",dataIndex:"cooperate_type",slotName:"cooperate_type",width:120,align:"center"},{title:"\u5E73\u53F0\u4EF7/\u520A\u4F8B",dataIndex:"platform_price",slotName:"platform_price",width:120,align:"center"},{title:"\u6267\u884C\u4EF7\uFF08\u542B\u7A0E\uFF09",dataIndex:"actual_price",slotName:"actual_price",width:150,align:"center"},{title:"\u6298\u6263\u8BF4\u660E",dataIndex:"discount_note",slotName:"discount_note",width:100,align:"center"},{title:"\u7A0E\u7387",dataIndex:"tax_rate",slotName:"tax_rate",width:120,align:"center"},{title:"\u4E8B\u4E1A\u90E8",dataIndex:"department",slotName:"department",width:120,align:"center"},{title:"\u9879\u76EE\u53F7",dataIndex:"projectno",slotName:"projectno",ellipsis:!0,tooltip:!0,width:160,align:"center"},{title:"\u9879\u76EE\u540D\u79F0",dataIndex:"project_name",slotName:"project_name",tooltip:!0,ellipsis:!0,width:180,align:"center"},{title:"\u652F\u4ED8\u5355\u53F7",dataIndex:"payno",slotName:"payno",ellipsis:!0,tooltip:{position:"left"},width:160,align:"center"},{title:"\u4F9B\u5E94\u5546\u540D\u79F0",dataIndex:"supply_name",slotName:"supply_name",ellipsis:!0,tooltip:{position:"left"},width:160,align:"center"},{title:"\u8054\u7CFB\u65B9\u5F0F",dataIndex:"contact",slotName:"contact",ellipsis:!0,tooltip:{position:"left"},width:160,align:"center"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",width:100,fixed:"right",align:"center"}]);function ee(e){return B.get({url:"/project/project/get_list",params:e},{errorMessageMode:"none"})}const te=k({name:"cateindex",components:{BasicModal:q,IconPicker:X,Icon:Y,AddForm:Q},emits:["success"],setup(e,{emit:i}){u(!1);const I=u(620),c=u(620),m=u([]),{loading:y,setLoading:r}=K(!0),s=u((()=>({id:"0",name:"1221",file_name:"1212",project_count:"11",approve_note:"",status:""}))()),[g,{setModalProps:f,closeModal:_}]=J(async t=>{f({confirmLoading:!1}),s.value=x(t.record),t.record.approve_status==-1&&(s.value.status="\u672A\u901A\u8FC7"),t.record.approve_status==1&&(s.value.status="\u901A\u8FC7"),t.record.approve_status==0&&(s.value.status="\u672A\u5BA1\u6838"),d()}),d=async()=>{r(!0);try{const t=await ee({page:l.current,pageSize:l.pageSize,...s.value});m.value=t.items,l.current=t.page,l.total=t.total}catch{}finally{r(!1)}},h=M(()=>"Excel\u9884\u89C8"),F=t=>{c.value=t},l=A({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0}),a=t=>{l.current=t,d()},w=t=>{l.pageSize=t,d()},E=u();return{registerModal:g,getTitle:h,columns:Z,loading:y,formModel:s,dayjs:P,modelHeight:I,onHeightChange:F,windHeight:c,pagination:l,handlePaageChange:a,handlePaageSizeChange:w,renderData:m,handleEdit:async t=>{E.value.ShowModal({isUpdate:!0,record:t})},handleData:async()=>{d()},addFormRef:E,search:()=>{d()}}}});const ae={class:"table-content"};function oe(e,i,I,c,m,y){const r=$,b=L,s=U,g=R,f=T,_=C("Icon"),d=O,h=G,F=W,v=C("AddForm"),l=C("BasicModal");return S(),V(l,j(e.$attrs,{onRegister:e.registerModal,isPadding:!1,footer:!1,loading:e.loading,width:"1200px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle}),{default:n(()=>[N("div",{class:"modalbox",style:z({"min-height":`${e.windHeight}px`})},[N("div",ae,[o(g,{style:{"margin-bottom":"15px","margin-top":"5px"}},{default:n(()=>[o(s,{span:24},{default:n(()=>[o(b,null,{default:n(()=>[o(r,{style:{width:"200px"},modelValue:e.formModel.id,"onUpdate:modelValue":i[0]||(i[0]=a=>e.formModel.id=a),readonly:""},{prepend:n(()=>[p(" \u7F16\u53F7: ")]),_:1},8,["modelValue"]),o(r,{style:{width:"360px"},modelValue:e.formModel.file_name,"onUpdate:modelValue":i[1]||(i[1]=a=>e.formModel.file_name=a),readonly:""},{prepend:n(()=>[p(" \u6587\u4EF6\u540D\u79F0: ")]),_:1},8,["modelValue"]),o(r,{style:{width:"160px"},modelValue:e.formModel.status,"onUpdate:modelValue":i[2]||(i[2]=a=>e.formModel.status=a),readonly:""},{prepend:n(()=>[p(" \u5BA1\u6279: ")]),_:1},8,["modelValue"]),o(r,{style:{width:"360px"},modelValue:e.formModel.approve_note,"onUpdate:modelValue":i[3]||(i[3]=a=>e.formModel.approve_note=a),readonly:""},{prepend:n(()=>[p(" \u5BA1\u6279\u4FE1\u606F: ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(F,{"row-key":"id",loading:e.loading,pagination:e.pagination,columns:e.columns,data:e.renderData,bordered:{wrapper:!0,cell:!0},size:"medium","default-expand-all-rows":!0,ref:"artable",onPageChange:e.handlePaageChange,onPageSizeChange:e.handlePaageSizeChange},{publish_link:n(({record:a})=>[o(f,{href:a.publish_link,status:"success",target:"_blank"},{default:n(()=>[p(H(a.publish_link),1)]),_:2},1032,["href"])]),operations:n(({record:a})=>[o(_,{icon:"svgfont-bianji1",class:"iconbtn",onClick:w=>e.handleEdit(a),size:18,color:"#0960bd"},null,8,["onClick"]),o(d,{direction:"vertical"}),o(h,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:w=>e.handleDel(a)},{default:n(()=>[o(_,{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","onPageChange","onPageSizeChange"])])],4),o(v,{ref:"addFormRef",onSuccess:e.search},null,8,["onSuccess"])]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title"])}const Ve=D(te,[["render",oe],["__scopeId","data-v-6d343be5"]]);export{Ve as default};
