import{a as I,_ as A}from"./index.a2bf8911.js";/* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as U,e as S,w as z,c0 as L,aL as N,C as l,aE as D,aH as t,aI as n,D as b,aF as P,aN as C,aO as g,aS as v,bk as Y,c9 as $,bj as j,bT as q,bb as E,bO as H}from"./arco.b02d9b55.js";import{u as M}from"./common.66f89a6d.js";import{s as O}from"./user-center.78bb0b0f.js";import"./chart.67655b2c.js";import"./vue.e4c26cfd.js";const T=["src"],V={key:1},W={key:2},R=U({__name:"user-panel",props:{formData:{type:Object,default:!1}},setup(w){const i=w,p=I(),x={uid:"-2",name:"avatar.png",url:p.avatar},h=S();z(()=>i.formData,()=>{h.value=[{label:"userSetting.label.name",value:p.name},{label:"userSetting.label.rolename",value:p.rolename},{label:"userSetting.label.certification",value:1},{label:"userSetting.label.accountId",value:i.formData.id},{label:"userSetting.label.phone",value:i.formData.mobile},{label:"userSetting.label.registrationDate",value:L(parseInt(i.formData.createtime)*1e3).format("YYYY-MM-DD HH:mm")}]});const c=S([x]),k=(o,s)=>{c.value=[s]},B=o=>{const s=new AbortController;return async function(){const{onProgress:u,onError:m,onSuccess:_,fileItem:r}=o;u(20);const d=a=>{let e;a.total>0&&(e=a.loaded/a.total*100),u(parseInt(String(e),10),a)};try{const a=(r==null?void 0:r.name)||"",e=await M({name:"file",file:r.file,filename:a,data:{cid:0}},d);e&&(v.loading({content:"\u66F4\u65B0\u5934\u50CF",id:"delaction"}),await O({avatar:e.url})?v.success({content:"\u66F4\u65B0\u6210\u529F",id:"delaction"}):v.clear()),_(e)}catch(a){m(a)}}(),{abort(){s.abort()}}},F=o=>{let s=/^(.{3}).*(.{4})$/;return o.replace(s,"$1****$2")};return(o,s)=>{const y=N("icon-camera"),u=Y,m=$,_=j,r=q,d=E,a=H;return l(),D(a,{bordered:!1},{default:t(()=>[n(d,{size:54},{default:t(()=>[n(m,{"custom-request":B,"list-type":"picture-card","file-list":c.value,"show-upload-button":!0,"show-file-list":!1,multiple:!1,onChange:k},{"upload-button":t(()=>[n(u,{size:100,class:"info-avatar"},{"trigger-icon":t(()=>[n(y)]),default:t(()=>[c.value.length?(l(),b("img",{key:0,src:c.value[0].url},null,8,T)):P("",!0)]),_:1})]),_:1},8,["file-list"]),n(r,{data:h.value,column:2,align:"right",layout:"inline-horizontal","label-style":{width:"140px",fontWeight:"normal",color:"rgb(var(--gray-8))"},"value-style":{width:"200px",paddingLeft:"8px",textAlign:"left"}},{label:t(({label:e})=>[C(g(o.$t(e))+" :",1)]),value:t(({value:e,data:f})=>[f.label==="userSetting.label.certification"?(l(),D(_,{key:0,color:"green",size:"small"},{default:t(()=>[C(" \u5DF2\u8BA4\u8BC1 ")]),_:1})):f.label=="userSetting.label.phone"?(l(),b("span",V,g(F(e)),1)):(l(),b("span",W,g(e),1))]),_:1},8,["data","label-style"])]),_:1})]),_:1})}}});const ce=A(R,[["__scopeId","data-v-ea323e27"]]);export{ce as default};
