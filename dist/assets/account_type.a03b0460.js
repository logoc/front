import{u as G,_ as q}from"./index.a2bf8911.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{d as J,r as K,e as r,o as Q,w as W,c as X,aL as F,C as d,D as _,aI as a,aH as o,aN as u,G as Z,u as i,aO as p,aF as x,c0 as ee,aS as f,aY as te,bb as ae,b_ as oe,bv as ne,c4 as se,b$ as ce,c6 as re,bP as ie,bO as le}from"./arco.b02d9b55.js";import{u as ue}from"./loading.7f7bf96d.js";import{c as k}from"./cloneDeep.bb231cd9.js";import{A as pe,g as me,d as de}from"./AddForm.52660d2b.js";import{c as _e}from"./data.8973f6a6.js";import{a as fe}from"./index.c4821ce7.js";import{I as w}from"./Icon.031e5930.js";import{h as ge}from"./vue.e4c26cfd.js";import"./chart.67655b2c.js";/* empty css               */import"./IconPicker.7129cb1a.js";const ye={class:"container"},he={key:0,style:{"padding-left":"5px",color:"var(--color-neutral-4)"}},be=["alt","src"],ve={name:"article"},Ce=J({...ve,setup(Fe){ge(),G();const[D,{openModal:g}]=fe(),s=K({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0});document.documentElement.clientHeight;const{loading:S,setLoading:y}=ue(!0),h=r([]),l=r([]),z=r([]);r("large");const B=r((()=>({cate_type:"account_type"}))()),c=async()=>{y(!0);try{const e=await me({page:s.current,pageSize:s.pageSize,...B.value});h.value=e.items,s.current=e.page,s.total=e.total}catch{}finally{y(!1)}};Q(()=>{});const M=()=>{c()};c(),W(()=>_e.value,e=>{l.value=k(e),l.value.forEach((n,b)=>{n.checked=!0}),z.value=k(l.value)},{deep:!0,immediate:!0});const E=()=>{g(!0,{isUpdate:!1,record:null})},P=async e=>{g(!0,{isUpdate:!0,record:e})},T=async()=>{c()},I=e=>{s.current=e,c()},N=e=>{s.pageSize=e,c()},A=async e=>{try{f.loading({content:"\u5220\u9664\u4E2D",id:"upStatus"}),await de({id:e.id})&&f.success({content:"\u5220\u9664\u6210\u529F",id:"upStatus"}),c()}catch{f.clear("top")}};X(()=>[{label:"\u8D26\u53F7\u7C7B\u578B",value:"account_type"},{label:"\u5408\u4F5C\u5E73\u53F0",value:"platform"},{label:"\u5408\u4F5C\u5F62\u5F0F",value:"cooperate_type"}]);const R=e=>{var n="";return e=="platform"?n="\u5408\u4F5C\u5E73\u53F0":e=="cooperate_type"?n="\u5408\u4F5C\u5F62\u5F0F":e=="account_type"&&(n="\u8D26\u53F7\u7C7B\u578B"),n};return(e,n)=>{const b=F("icon-plus"),Y=te,v=ae,C=oe,L=F("icon-refresh"),O=ne,V=se,$=ce,j=re,H=ie,U=le;return d(),_("div",ye,[a(U,{class:"general-card onelineCard",style:{height:"calc(100% - 50px)"}},{default:o(()=>[a(V,{style:{"margin-bottom":"10px"}},{default:o(()=>[a(C,{span:12,style:{"text-align":"left"}},{default:o(()=>[a(v,null,{default:o(()=>[a(Y,{type:"primary",onClick:E},{icon:o(()=>[a(b)]),default:o(()=>[u(" \u65B0\u589E ")]),_:1})]),_:1})]),_:1}),a(C,{span:12,style:{"text-align":"right"}},{default:o(()=>[a(v,null,{default:o(()=>[a(O,{content:e.$t("searchTable.actions.refresh")},{default:o(()=>[Z("div",{class:"action-icon",onClick:M},[a(L,{size:"18"})])]),_:1},8,["content"])]),_:1})]),_:1})]),_:1}),a(H,{"row-key":"id",loading:i(S),pagination:s,columns:l.value,data:h.value,bordered:{wrapper:!0,cell:!0},size:"large",scroll:{x:800},"default-expand-all-rows":!0,ref:"artable",onPageChange:I,onPageSizeChange:N},{name:o(({record:t})=>[u(p(t.name),1),t.nickname?(d(),_("span",he,p(t.nickname),1)):x("",!0)]),mimetype:o(({record:t})=>[t.mimetype.includes("image")||t.mimetype.includes("video")?(d(),_("img",{key:0,alt:t.title,style:{height:"50px","border-radius":"5px"},src:t.mimetype.includes("image")?t.url:t.cover_url},null,8,be)):x("",!0)]),createtime:o(({record:t,column:m})=>[u(p(i(ee)(t[m.dataIndex]*1e3).format("YYYY-MM-DD")),1)]),cate_type:o(({record:t})=>[u(p(R(t.cate_type)),1)]),operations:o(({record:t})=>[a(i(w),{icon:"svgfont-bianji1",class:"iconbtn",onClick:m=>P(t),size:18,color:"#0960bd"},null,8,["onClick"]),a($,{direction:"vertical"}),a(j,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:m=>A(t)},{default:o(()=>[a(i(w),{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data"])]),_:1}),a(pe,{onRegister:i(D),onSuccess:T},null,8,["onRegister"])])}}});const Ze=q(Ce,[["__scopeId","data-v-b8b0047f"]]);export{Ze as default};
