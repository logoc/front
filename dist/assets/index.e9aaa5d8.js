import{u as K,_ as Q}from"./index.a2bf8911.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{d as W,r as X,e as r,o as Z,w as ee,c as te,aL as _,C as f,D as g,aI as a,u as c,aH as o,aN as u,aO as p,aF as w,c0 as ae,aS as y,aY as oe,bb as ne,b_ as se,bM as ce,c4 as le,b$ as re,c6 as ue,bP as ie,bO as pe}from"./arco.b02d9b55.js";import{u as me}from"./loading.7f7bf96d.js";import{c as S}from"./cloneDeep.bb231cd9.js";import{A as de,g as _e,d as fe}from"./AddForm.52660d2b.js";import{c as ge}from"./data.8973f6a6.js";import{a as ye}from"./index.c4821ce7.js";import{I as D}from"./Icon.031e5930.js";import{h as he}from"./vue.e4c26cfd.js";import"./chart.67655b2c.js";/* empty css               */import"./IconPicker.7129cb1a.js";const ve={class:"container"},Ce={key:0,style:{"padding-left":"5px",color:"var(--color-neutral-4)"}},be=["alt","src"],Fe={name:"article"},xe=W({...Fe,setup(Be){const h=he();K();const[ke,{openModal:E}]=ye(),s=X({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0});document.documentElement.clientHeight;const{loading:M,setLoading:v}=me(!0),C=r([]),i=r([]),z=r([]);r("large");const m=r((()=>({cate_type:"platform"}))()),l=async()=>{v(!0);try{const e=await _e({page:s.current,pageSize:s.pageSize,...m.value});C.value=e.items,s.current=e.page,s.total=e.total}catch{}finally{v(!1)}};Z(()=>{});const P=()=>{l()};l(),ee(()=>ge.value,e=>{i.value=S(e),i.value.forEach((n,F)=>{n.checked=!0}),z.value=S(i.value)},{deep:!0,immediate:!0});const I=()=>{E(!0,{isUpdate:!1,record:null})},b=r(),V=async e=>{b.value.ShowModal({isUpdate:!0,record:e})},N=async()=>{l()},O=e=>{s.current=e,l()},R=e=>{s.pageSize=e,l()},T=async e=>{try{y.loading({content:"\u5220\u9664\u4E2D",id:"upStatus"}),await fe({id:e.id})&&y.success({content:"\u5220\u9664\u6210\u529F",id:"upStatus"}),l()}catch{y.clear("top")}},Y=te(()=>[{label:"\u8D26\u53F7\u7C7B\u578B",value:"account_type"},{label:"\u5408\u4F5C\u5E73\u53F0",value:"platform"},{label:"\u5408\u4F5C\u5F62\u5F0F",value:"cooperate_type"}]),A=e=>{var n="";return e=="platform"?n="\u5408\u4F5C\u5E73\u53F0":e=="cooperate_type"?n="\u5408\u4F5C\u5F62\u5F0F":e=="account_type"&&(n="\u8D26\u53F7\u7C7B\u578B"),n};return(e,n)=>{const F=_("Breadcrumb"),L=_("icon-plus"),x=oe,B=ne,k=se,U=ce,$=_("icon-search"),j=le,H=re,q=ue,G=ie,J=pe;return f(),g("div",ve,[a(F,{items:[c(h).matched[0].meta.locale,c(h).meta.locale]},null,8,["items"]),a(J,{class:"general-card onelineCard",style:{height:"calc(100% - 50px)"}},{default:o(()=>[a(j,{style:{"margin-bottom":"10px"}},{default:o(()=>[a(k,{span:12,style:{"text-align":"left"}},{default:o(()=>[a(B,null,{default:o(()=>[a(x,{type:"primary",onClick:I},{icon:o(()=>[a(L)]),default:o(()=>[u(" \u65B0\u589E ")]),_:1})]),_:1})]),_:1}),a(k,{span:12,style:{"text-align":"right"}},{default:o(()=>[a(B,null,{default:o(()=>[a(U,{modelValue:m.value.cate_type,"onUpdate:modelValue":n[0]||(n[0]=t=>m.value.cate_type=t),options:c(Y),placeholder:"\u5E73\u53F0\u7C7B\u578B",style:{width:"220px"}},{prefix:o(()=>[u("\u5E73\u53F0\u7C7B\u578B:")]),_:1},8,["modelValue","options"]),a(x,{type:"primary",onClick:P},{icon:o(()=>[a($)]),default:o(()=>[u(" \u67E5\u8BE2 ")]),_:1})]),_:1})]),_:1})]),_:1}),a(G,{"row-key":"id",loading:c(M),pagination:s,columns:i.value,data:C.value,bordered:{wrapper:!0,cell:!0},size:"large",scroll:{x:800},"default-expand-all-rows":!0,ref:"artable",onPageChange:O,onPageSizeChange:R},{name:o(({record:t})=>[u(p(t.name),1),t.nickname?(f(),g("span",Ce,p(t.nickname),1)):w("",!0)]),mimetype:o(({record:t})=>[t.mimetype.includes("image")||t.mimetype.includes("video")?(f(),g("img",{key:0,alt:t.title,style:{height:"50px","border-radius":"5px"},src:t.mimetype.includes("image")?t.url:t.cover_url},null,8,be)):w("",!0)]),createtime:o(({record:t,column:d})=>[u(p(c(ae)(t[d.dataIndex]*1e3).format("YYYY-MM-DD")),1)]),cate_type:o(({record:t})=>[u(p(A(t.cate_type)),1)]),operations:o(({record:t})=>[a(c(D),{icon:"svgfont-bianji1",class:"iconbtn",onClick:d=>V(t),size:18,color:"#0960bd"},null,8,["onClick"]),a(H,{direction:"vertical"}),a(q,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:d=>T(t)},{default:o(()=>[a(c(D),{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data"])]),_:1}),a(de,{ref_key:"addFormRef",ref:b,onSuccess:N},null,512)])}}});const at=Q(xe,[["__scopeId","data-v-2446e035"]]);export{at as default};
