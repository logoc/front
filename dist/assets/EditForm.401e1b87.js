import{u as g,p as _,_ as c}from"./index.a2bf8911.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as C,e as y,c as U,u as V,aS as E,aL as k,C as q,aE as A,aH as a,aI as e,aN as v,bU as M,aW as I,b7 as j,b_ as w,cf as S,c4 as L,bc as R}from"./arco.b02d9b55.js";import{B as $,u as P}from"./index.c4821ce7.js";import{u as N}from"./loading.7f7bf96d.js";import{u as O}from"./project.2f54d37c.js";import{I as T}from"./IconPicker.7129cb1a.js";import{I as H}from"./Icon.031e5930.js";import"./chart.67655b2c.js";import"./vue.e4c26cfd.js";/* empty css                *//* empty css                *//* empty css                */const W=C({name:"AddBook",components:{BasicModal:$,IconPicker:T,Icon:H},emits:["success"],setup(u,{emit:l}){const{t:b}=g(),p=y(!1),s=y(),f={id:0,platform:"",cooperate_time:"",account_type:"",account_nikename:"",fanscnt:"",publish_link:"",cooperate_type:"",platform_price:"",actual_price:"",discount_note:"",tax_rate:"%",department:"",projectno:"",project_name:"",payno:"",supply_name:"",contact:""},t=y(f),[r,{setModalProps:n,closeModal:F}]=P(async d=>{var i;(i=s.value)==null||i.resetFields(),n({confirmLoading:!1}),p.value=!!(d!=null&&d.isUpdate),V(p)?t.value=_(d.record):t.value=f}),B=U(()=>V(p)?"\u7F16\u8F91\u9879\u76EE":"\u65B0\u589E\u9879\u76EE"),{loading:D,setLoading:m}=N();return{registerModal:r,getTitle:B,handleSubmit:async()=>{var d;try{await((d=s.value)==null?void 0:d.validate())||(m(!0),E.loading({content:"\u66F4\u65B0\u4E2D",id:"upStatus"}),await O(V(t)),E.success({content:"\u66F4\u65B0\u6210\u529F",id:"upStatus"}),F(),l("success"),m(!1))}catch{m(!1),E.clear("top")}},formRef:s,loading:D,formData:t,t:b,OYoptions:[{label:"\u5426",value:0},{label:"\u662F",value:1}],onChange:d=>{console.log("fileList",d)}}}});function Y(u,l,b,p,s,f){const t=I,r=j,n=w,F=S,B=L,D=R,m=k("BasicModal");return q(),A(m,M(u.$attrs,{onRegister:u.registerModal,loading:u.loading,helpMessage:"\u7F16\u8F91\u548C\u4FEE\u6539\u83DC\u5355",width:"900px",minHeight:500,title:u.getTitle,onOk:u.handleSubmit}),{default:a(()=>[e(D,{ref:"formRef",model:u.formData,"auto-label-width":""},{default:a(()=>[e(B,{gutter:16},{default:a(()=>[e(n,{span:12},{default:a(()=>[e(r,{field:"platform",label:"\u5408\u4F5C\u5E73\u53F0","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5408\u4F5C\u5E73\u53F0"}],style:{"margin-bottom":"15px"}},{default:a(()=>[e(t,{modelValue:u.formData.platform,"onUpdate:modelValue":l[0]||(l[0]=o=>u.formData.platform=o),placeholder:"\u8BF7\u586B\u5408\u4F5C\u5E73\u53F0",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"cooperate_time",label:"\u5408\u4F5C\u65F6\u95F4",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(F,{modelValue:u.formData.cooperate_time,"onUpdate:modelValue":l[1]||(l[1]=o=>u.formData.cooperate_time=o),style:{width:"200px"},readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{label:"\u8D26\u53F7\u7C7B\u578B",field:"account_type",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.account_type,"onUpdate:modelValue":l[2]||(l[2]=o=>u.formData.account_type=o),placeholder:"\u8BF7\u586B\u8D26\u53F7\u7C7B\u578B",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"account_nikename",label:"\u8D26\u53F7\u6635\u79F0",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.account_nikename,"onUpdate:modelValue":l[3]||(l[3]=o=>u.formData.account_nikename=o),placeholder:"\u8BF7\u586B\u8D26\u53F7\u6635\u79F0",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"fanscnt",label:"\u7C89\u4E1D\u6570",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.fanscnt,"onUpdate:modelValue":l[4]||(l[4]=o=>u.formData.fanscnt=o),placeholder:"\u8BF7\u586B\u7C89\u4E1D\u6570",readonly:""},{append:a(()=>[v(" \u4E07 ")]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"publish_link",label:"\u53D1\u5E03\u94FE\u63A5","validate-trigger":"input",style:{"margin-bottom":"15px"}},{default:a(()=>[e(t,{modelValue:u.formData.publish_link,"onUpdate:modelValue":l[5]||(l[5]=o=>u.formData.publish_link=o),placeholder:"\u8BF7\u586B\u53D1\u5E03\u94FE\u63A5"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"cooperate_type",label:"\u5408\u4F5C\u5F62\u5F0F",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.cooperate_type,"onUpdate:modelValue":l[6]||(l[6]=o=>u.formData.cooperate_type=o),placeholder:"\u8BF7\u586B\u5408\u4F5C\u5F62\u5F0F",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"platform_price",label:"\u5E73\u53F0\u4EF7/\u520A\u4F8B",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.platform_price,"onUpdate:modelValue":l[7]||(l[7]=o=>u.formData.platform_price=o),placeholder:"\u8BF7\u586B\u5E73\u53F0\u4EF7/\u520A\u4F8B",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"actual_price",label:"\u6267\u884C\u4EF7(\u542B\u7A0E)",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.actual_price,"onUpdate:modelValue":l[8]||(l[8]=o=>u.formData.actual_price=o),placeholder:"\u8BF7\u586B\u6267\u884C\u4EF7(\u542B\u7A0E)",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"discount_note",label:"\u6298\u6263\u8BF4\u660E",style:{"margin-bottom":"15px"},rules:[{required:!0,message:"\u8BF7\u586B\u6298\u6263\u8BF4\u660E"}]},{default:a(()=>[e(t,{modelValue:u.formData.discount_note,"onUpdate:modelValue":l[9]||(l[9]=o=>u.formData.discount_note=o),placeholder:"\u8BF7\u586B\u6298\u6263\u8BF4\u660E",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"tax_rate",label:"\u7A0E\u7387",style:{"margin-bottom":"15px"},rules:[{required:!0,message:"\u8BF7\u586B\u7A0E\u7387"}]},{default:a(()=>[e(t,{modelValue:u.formData.tax_rate,"onUpdate:modelValue":l[10]||(l[10]=o=>u.formData.tax_rate=o),placeholder:"\u8BF7\u586B\u7A0E\u7387",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"department",label:"\u4E8B\u4E1A\u90E8",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.department,"onUpdate:modelValue":l[11]||(l[11]=o=>u.formData.department=o),placeholder:"\u8BF7\u586B\u4E8B\u4E1A\u90E8",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"projectno",label:"\u9879\u76EE\u53F7",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.projectno,"onUpdate:modelValue":l[12]||(l[12]=o=>u.formData.projectno=o),placeholder:"\u8BF7\u586B\u9879\u76EE\u53F7",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"project_name",label:"\u9879\u76EE\u540D\u79F0",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.project_name,"onUpdate:modelValue":l[13]||(l[13]=o=>u.formData.project_name=o),placeholder:"\u8BF7\u586B\u9879\u76EE\u540D\u79F0",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"payno",label:"\u652F\u4ED8\u5355\u53F7",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.payno,"onUpdate:modelValue":l[14]||(l[14]=o=>u.formData.payno=o),placeholder:"\u8BF7\u586B\u652F\u4ED8\u5355\u53F7",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"supply_name",label:"\u4F9B\u5E94\u5546\u540D\u79F0",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.supply_name,"onUpdate:modelValue":l[15]||(l[15]=o=>u.formData.supply_name=o),placeholder:"\u8BF7\u586B\u4F9B\u5E94\u5546\u540D\u79F0",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(r,{field:"contact",label:"\u8054\u7CFB\u65B9\u5F0F",style:{"margin-bottom":"15px"},rules:[{required:!0}]},{default:a(()=>[e(t,{modelValue:u.formData.contact,"onUpdate:modelValue":l[16]||(l[16]=o=>u.formData.contact=o),placeholder:"\u8BF7\u586B\u8054\u7CFB\u65B9\u5F0F",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},16,["onRegister","loading","title","onOk"])}const me=c(W,[["render",Y]]);export{me as default};
