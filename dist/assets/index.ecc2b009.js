import{u as he,_ as fe}from"./index.a2bf8911.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               */import{c as C,d as ve,e as d,r as be,o as Ce,w as ye,aL as _,C as v,D as w,aI as e,u as s,aH as a,aN as i,aO as m,G as b,aK as xe,aJ as we,aE as ke,E as Se,aF as ze,c0 as Be,aS as p,aW as De,cb as Ie,bM as Ve,aY as Ee,bb as Fe,b_ as Te,bv as Me,bw as Pe,bx as Re,c4 as $e,aX as Ue,b$ as Ne,c6 as Ae,bP as Le,bO as Oe}from"./arco.b02d9b55.js";import{u as Ye}from"./loading.7f7bf96d.js";import{c as P}from"./cloneDeep.bb231cd9.js";import{A as We,g as je,u as He,d as Ge}from"./AddForm.cc15c548.js";import{a as R}from"./index.c4821ce7.js";import Je from"./index.e8476e23.js";import{I as $}from"./Icon.031e5930.js";import{h as Ke}from"./vue.e4c26cfd.js";import"./chart.67655b2c.js";/* empty css               */import"./lodash.b99388fa.js";import"./api.94877843.js";import"./common.66f89a6d.js";/* empty css               */import"./FileManage.59225568.js";/* empty css               */import"./FileLibrary.aa44c3ce.js";import"./htmlmixed.af7c8595.js";import"./IconPicker.7129cb1a.js";import"./AddForm.3d18e9ac.js";/* empty css                */const Xe=C(()=>[{title:"ID",dataIndex:"id",width:76,align:"left"},{title:"\u6807\u98981",dataIndex:"title",align:"center",width:200},{title:"\u4EF7\u683C",dataIndex:"price",align:"left"},{title:"\u5E93\u5B58",dataIndex:"num",align:"left"},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"createtime",slotName:"createtime",align:"left"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",fixed:"right",width:100,align:"center"}]),qe={class:"container"},Qe={class:"action-icon"},Ze={key:0,style:{"padding-left":"5px",color:"var(--color-neutral-4)"}},et=["src"],tt={name:"article"},at=ve({...tt,setup(ot){const k=Ke(),{t:g}=he(),[U,{openModal:S}]=R(),[N,{openModal:A}]=R(),y=d(null),L=C(()=>y.value?y.value.$el.offsetWidth-100:1200),O=C(()=>[{name:g("searchTable.size.mini"),value:"mini"},{name:g("searchTable.size.small"),value:"small"},{name:g("searchTable.size.medium"),value:"medium"},{name:g("searchTable.size.large"),value:"large"}]),c=be({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0});document.documentElement.clientHeight;const{loading:Y,setLoading:z}=Ye(!0),B=d([]),h=d([]),W=d([]),x=d("large"),D=()=>({trade_no:"",title:"",name:"",createdTime:[],status:""}),l=d(D()),r=async()=>{z(!0);try{const o=await je({page:c.current,pageSize:c.pageSize,...l.value});B.value=o.items,c.current=o.page,c.total=o.total}catch{}finally{z(!1)}};Ce(()=>{});const I=()=>{r()},j=()=>{l.value=D(),r()};r();const H=(o,n)=>{x.value=o};ye(()=>Xe.value,o=>{h.value=P(o),h.value.forEach((n,E)=>{n.checked=!0}),W.value=P(h.value)},{deep:!0,immediate:!0});const G=()=>{A(!0,{isUpdate:!1,record:null})},J=()=>{S(!0,{isUpdate:!1,record:null})},K=async o=>{S(!0,{isUpdate:!0,record:o})},V=async()=>{r()},X=o=>{c.current=o,r()},q=o=>{c.pageSize=o,r()},Q=async o=>{try{p.loading({content:"\u66F4\u65B0\u72B6\u6001\u4E2D",id:"upStatus"}),await He({id:o.id,status:o.status})&&p.success({content:"\u66F4\u65B0\u72B6\u6001\u6210\u529F",id:"upStatus"})}catch{p.clear("top")}},Z=async o=>{try{p.loading({content:"\u5220\u9664\u4E2D",id:"upStatus"}),await Ge({ids:[o.id]})&&(r(),p.success({content:"\u5220\u9664\u6210\u529F",id:"upStatus"}))}catch{p.clear("top")}},ee=C(()=>[{label:"\u5168\u90E8",value:""},{label:"\u6B63\u5E38",value:0},{label:"\u9690\u85CF",value:1}]);return(o,n)=>{const E=_("Breadcrumb"),te=De,ae=Ie,oe=Ve,ne=_("icon-search"),f=Ee,F=Fe,T=Te,se=_("icon-plus"),le=_("icon-refresh"),M=Me,ie=_("icon-line-height"),ce=Pe,re=Re,ue=$e,de=Ue,me=Ne,pe=Ae,_e=Le,ge=Oe;return v(),w("div",qe,[e(E,{items:[s(k).matched[0].meta.locale,s(k).meta.locale]},null,8,["items"]),e(ge,{class:"general-card onelineCard",ref_key:"onelineCardRef",ref:y,style:{height:"calc(100% - 50px)"}},{default:a(()=>[e(ue,{style:{"margin-bottom":"10px"}},{default:a(()=>[e(T,{span:16},{default:a(()=>[e(F,null,{default:a(()=>[e(te,{style:{width:"160px"},modelValue:l.value.title,"onUpdate:modelValue":n[0]||(n[0]=t=>l.value.title=t),placeholder:"\u540D\u79F0","allow-clear":""},null,8,["modelValue"]),e(ae,{modelValue:l.value.createdTime,"onUpdate:modelValue":n[1]||(n[1]=t=>l.value.createdTime=t),style:{width:"200px"}},null,8,["modelValue"]),e(oe,{modelValue:l.value.status,"onUpdate:modelValue":n[2]||(n[2]=t=>l.value.status=t),options:s(ee),placeholder:"\u72B6\u6001",style:{width:"120px"}},null,8,["modelValue","options"]),e(f,{type:"primary",onClick:I},{icon:a(()=>[e(ne)]),default:a(()=>[i(" \u67E5\u8BE2 ")]),_:1}),e(f,{onClick:j},{default:a(()=>[i(m(o.$t("searchTable.form.reset")),1)]),_:1})]),_:1})]),_:1}),e(T,{span:8,style:{"text-align":"right"}},{default:a(()=>[e(F,null,{default:a(()=>[e(f,{type:"primary",onClick:J},{icon:a(()=>[e(se)]),default:a(()=>[i(" "+m(o.$t("searchTable.operation.create")),1)]),_:1}),e(f,{onClick:G},{default:a(()=>[i("\u7BA1\u7406\u5206\u7C7B")]),_:1}),e(M,{content:o.$t("searchTable.actions.refresh")},{default:a(()=>[b("div",{class:"action-icon",onClick:I},[e(le,{size:"18"})])]),_:1},8,["content"]),e(re,{onSelect:H},{content:a(()=>[(v(!0),w(xe,null,we(s(O),t=>(v(),ke(ce,{key:t.value,value:t.value,class:Se({active:t.value===x.value})},{default:a(()=>[b("span",null,m(t.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(M,{content:o.$t("searchTable.actions.density")},{default:a(()=>[b("div",Qe,[e(ie,{size:"18"})])]),_:1},8,["content"])]),_:1})]),_:1})]),_:1})]),_:1}),e(_e,{"row-key":"id",loading:s(Y),pagination:c,columns:h.value,data:B.value,bordered:{wrapper:!0,cell:!0},size:x.value,"default-expand-all-rows":!0,ref:"artable",scroll:{x:s(L)},onPageChange:X,onPageSizeChange:q},{name:a(({record:t})=>[i(m(t.name),1),t.nickname?(v(),w("span",Ze,m(t.nickname),1)):ze("",!0)]),image:a(({record:t})=>[b("img",{alt:"\u5C01\u9762",style:{height:"50px","border-radius":"5px"},src:t.image},null,8,et)]),createtime:a(({record:t,column:u})=>[i(m(t[u.dataIndex]>0?s(Be)(t[u.dataIndex]*1e3).format("YYYY-MM-DD"):"--"),1)]),status:a(({record:t})=>[e(de,{type:"round",modelValue:t.status,"onUpdate:modelValue":u=>t.status=u,"checked-value":0,"unchecked-value":1,onChange:u=>Q(t)},{checked:a(()=>[i(" \u5F00 ")]),unchecked:a(()=>[i(" \u5173 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),operations:a(({record:t})=>[e(s($),{icon:"svgfont-bianji1",class:"iconbtn",onClick:u=>K(t),size:18,color:"#0960bd"},null,8,["onClick"]),e(me,{direction:"vertical"}),e(pe,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:u=>Z(t)},{default:a(()=>[e(s($),{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","scroll"])]),_:1},512),e(We,{onRegister:s(U),onSuccess:V},null,8,["onRegister"]),e(Je,{onRegister:s(N),onSuccess:V},null,8,["onRegister"])])}}});const Ht=fe(at,[["__scopeId","data-v-a3e42a70"]]);export{Ht as default};
