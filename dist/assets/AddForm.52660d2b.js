import{n as B,u as C,p as V,_ as I}from"./index.a2bf8911.js";/* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css                */import{d as L,e as g,c as E,u as F,aS as M,aL as S,C as b,aE as D,aH as t,aI as o,D as h,aK as w,aJ as k,aN as O,aO as T,bU as U,aW as $,b7 as j,b_ as R,bL as A,bM as N,aV as P,c4 as H,bc as q}from"./arco.b02d9b55.js";import{B as z,u as J}from"./index.c4821ce7.js";import{u as K}from"./loading.7f7bf96d.js";import{I as W}from"./IconPicker.7129cb1a.js";import{I as Y}from"./Icon.031e5930.js";function G(e){return B.post({url:"/project/upconfig/save",params:e},{errorMessageMode:"none"})}function _e(e){return B.get({url:"/project/upconfig/get_list",params:e},{errorMessageMode:"none"})}function ge(e){return B.delete({url:"/project/upconfig/del",params:e},{errorMessageMode:"none"})}const Q=E(()=>[{label:"\u8D26\u53F7\u7C7B\u578B",value:"account_type"},{label:"\u5408\u4F5C\u5E73\u53F0",value:"platform"},{label:"\u5408\u4F5C\u5F62\u5F0F",value:"cooperate_type"}]),X=L({name:"AddBook",components:{BasicModal:z,IconPicker:W,Icon:Y},emits:["success"],setup(e,{emit:s}){const{t:v}=C(),d=g(!1),p=g(),m={id:0,cate_type:"",cate:""},l=g(m),[r,{setModalProps:n,closeModal:c}]=J(async u=>{var a;(a=p.value)==null||a.resetFields(),n({confirmLoading:!1}),d.value=!!(u!=null&&u.isUpdate),F(d)?l.value=V(u.record):l.value=m}),f=E(()=>F(d)?"\u7F16\u8F91\u9879\u76EE":"\u65B0\u589E\u9879\u76EE"),{loading:_,setLoading:i}=K();return{registerModal:r,getTitle:f,handleSubmit:async()=>{var u;try{await((u=p.value)==null?void 0:u.validate())||(i(!0),await G(F(l))&&(M.success({content:"\u66F4\u65B0\u6210\u529F",id:"upStatus"}),c(),s("success"),i(!1)))}catch{i(!1),M.clear("top")}},formRef:p,loading:_,formData:l,t:v,cateTypeList:Q,OYoptions:[{label:"\u5426",value:0},{label:"\u662F",value:1}]}}});function Z(e,s,v,d,p,m){const l=$,r=j,n=R,c=A,f=N,_=P,i=H,y=q,u=S("BasicModal");return b(),D(u,U(e.$attrs,{onRegister:e.registerModal,loading:e.loading,helpMessage:"\u7F16\u8F91\u548C\u4FEE\u6539\u83DC\u5355",width:"800px",minHeight:260,title:e.getTitle,onOk:e.handleSubmit}),{default:t(()=>[o(y,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:t(()=>[o(i,{gutter:16},{default:t(()=>[o(n,{span:12},{default:t(()=>[o(r,{field:"cate",label:"\u540D\u79F0","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5408\u4F5C\u5E73\u53F0"}],style:{"margin-bottom":"15px"}},{default:t(()=>[o(l,{modelValue:e.formData.cate,"onUpdate:modelValue":s[0]||(s[0]=a=>e.formData.cate=a),placeholder:"\u8BF7\u586B\u7C7B\u522B\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),o(n,{span:12},{default:t(()=>[o(r,{field:"cate_type",label:"\u7C7B\u578B",style:{"margin-bottom":"15px"}},{default:t(()=>[o(f,{modelValue:e.formData.cate_type,"onUpdate:modelValue":s[1]||(s[1]=a=>e.formData.cate_type=a),placeholder:"\u9009\u62E9\u7C7B\u578B",style:{width:"250px"}},{default:t(()=>[(b(!0),h(w,null,k(e.cateTypeList,a=>(b(),D(c,{value:a.value},{default:t(()=>[O(T(a.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(n,{span:12},{default:t(()=>[o(r,{field:"cate_id",label:"\u6392\u5E8F","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u6392\u5E8F"}],style:{"margin-bottom":"15px"}},{default:t(()=>[o(_,{modelValue:e.formData.cate_id,"onUpdate:modelValue":s[2]||(s[2]=a=>e.formData.cate_id=a),placeholder:"\u8BF7\u586B\u6392\u5E8F"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},16,["onRegister","loading","title","onOk"])}const x=I(X,[["render",Z]]),Fe=Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"}));export{x as A,Fe as a,ge as d,_e as g};
