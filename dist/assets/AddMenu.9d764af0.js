import{p as V,_ as y}from"./index.a2bf8911.js";/* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css                */import{d as C,e as r,c as M,u as b,aS as w,aL as R,C as S,aE as k,aH as t,G as p,F as E,aI as o,bU as U,aW as $,b7 as I,b_ as A,aV as L,bR as O,bS as N,c4 as P,bW as T,bc as q}from"./arco.b02d9b55.js";import{B as z,u as G}from"./index.c4821ce7.js";import{u as W}from"./loading.7f7bf96d.js";import{s as Y}from"./tabledata.e086ec1b.js";import"./chart.67655b2c.js";import"./vue.e4c26cfd.js";/* empty css                *//* empty css               *//* empty css                */const j=C({name:"AddMenu",components:{BasicModal:z},emits:["success"],setup(e,{emit:l}){const d=r(!1),v=r(350),f=r(350),{loading:D,setLoading:n}=W(),s=r(),u={id:0,title:"",tablename:"",remark:"",status:0,weigh:1},i=r(u),[g,{setModalProps:c,closeModal:_}]=G(async a=>{var m;(m=s.value)==null||m.resetFields(),n(!0),c({confirmLoading:!1}),d.value=!!(a!=null&&a.isUpdate),b(d)?i.value=V(a.record):i.value=u,n(!1)}),h=M(()=>b(d)?"\u7F16\u8F91\u6570\u636E":"\u65B0\u589E\u6570\u636E");return{registerModal:g,getTitle:h,handleSubmit:async()=>{var a;try{if(!await((a=s.value)==null?void 0:a.validate())){n(!0),w.loading({content:"\u63D0\u4EA4\u4E2D",id:"upStatus"});let H=V(b(i));await Y(H),w.success({content:"\u63D0\u4EA4\u6210\u529F",id:"upStatus"}),_(),l("success"),n(!1)}}catch{n(!1),w.clear("top")}},formRef:s,loading:D,formData:i,OYoptions:[{label:"\u6B63\u5E38",value:0},{label:"\u7981\u7528",value:1}],modelHeight:v,onHeightChange:a=>{f.value=a},windHeight:f}}});const J={class:"tabs-content"},K={class:"content_box"},Q={class:"besecontent"};function X(e,l,d,v,f,D){const n=$,s=I,u=A,i=L,g=O,c=N,_=P,h=T,F=q,B=R("BasicModal");return S(),k(B,U(e.$attrs,{onRegister:e.registerModal,isPadding:!1,loading:e.loading,width:"800px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle,onOk:e.handleSubmit}),{default:t(()=>[p("div",{class:"addFormbox",style:E({"min-height":`${e.windHeight}px`})},[p("div",J,[o(F,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:t(()=>[p("div",K,[o(h,{style:E([{overflow:"auto"},{height:`${e.windHeight}px`}])},{default:t(()=>[p("div",Q,[o(_,{gutter:16},{default:t(()=>[o(u,{span:16},{default:t(()=>[o(s,{field:"title",label:"\u540D\u79F0","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u540D\u79F0"}]},{default:t(()=>[o(n,{modelValue:e.formData.title,"onUpdate:modelValue":l[0]||(l[0]=a=>e.formData.title=a),placeholder:"\u8BF7\u586B\u540D\u79F0","max-length":50,"allow-clear":"","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1}),o(u,{span:16},{default:t(()=>[o(s,{field:"tablename",label:"\u6570\u636E\u8868\u540D\u79F0","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u540D\u79F0"}]},{default:t(()=>[o(n,{modelValue:e.formData.tablename,"onUpdate:modelValue":l[1]||(l[1]=a=>e.formData.tablename=a),placeholder:"\u6570\u636E\u8868\u540D\u79F0","max-length":50,"allow-clear":"","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1}),o(u,{span:12},{default:t(()=>[o(s,{field:"weigh",label:"\u6392\u5E8F","validate-trigger":"input",style:{"margin-bottom":"15px"}},{default:t(()=>[o(i,{modelValue:e.formData.weigh,"onUpdate:modelValue":l[2]||(l[2]=a=>e.formData.weigh=a),placeholder:"\u8BF7\u586B\u6392\u5E8F"},null,8,["modelValue"])]),_:1})]),_:1}),o(u,{span:12},{default:t(()=>[o(s,{field:"status",label:"\u72B6\u6001",style:{"margin-bottom":"5px"}},{default:t(()=>[o(g,{modelValue:e.formData.status,"onUpdate:modelValue":l[3]||(l[3]=a=>e.formData.status=a),options:e.OYoptions},null,8,["modelValue","options"])]),_:1})]),_:1}),o(u,{span:24},{default:t(()=>[o(s,{field:"remark",label:"\u5907\u6CE8",style:{"margin-bottom":"15px"}},{default:t(()=>[o(c,{modelValue:e.formData.remark,"onUpdate:modelValue":l[4]||(l[4]=a=>e.formData.remark=a),placeholder:"\u8BF7\u586B\u5907\u6CE8","max-length":200,"allow-clear":"","show-word-limit":"","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["style"])])]),_:1},8,["model"])])],4)]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title","onOk"])}const fe=y(j,[["render",X],["__scopeId","data-v-7d05d4e8"]]);export{fe as default};
