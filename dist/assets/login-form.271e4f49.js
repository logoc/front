import{u as q,a as x,_ as M}from"./index.a2bf8911.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as z,e as A,r as G,aL as S,C as E,D as H,G as m,aO as n,u as _,aN as g,aI as o,aH as a,aS as O,aW as Q,b7 as R,b8 as U,b9 as W,ba as Y,aY as j,bb as J,bc as K,b2 as X,b3 as Z}from"./arco.b02d9b55.js";import{f as ee,g as oe}from"./vue.e4c26cfd.js";import{u as se}from"./loading.7f7bf96d.js";import"./chart.67655b2c.js";const ae=u=>(X("data-v-eb5bdb09"),u=u(),Z(),u),re={class:"login-form-wrapper"},ne={class:"login-form-title"},te={class:"login-form-sub-title"},le=ae(()=>m("div",{style:{"font-size":"12px",color:"#1890ff"}},"\u6D4B\u8BD5\u8D26\u53F7\uFF1Aadmin,\u5BC6\u7801\uFF1A123456",-1)),ie={class:"login-form-error-msg"},me={class:"login-form-password-actions"},ue=z({__name:"login-form",emits:["reback"],setup(u,{emit:k}){const w=ee(),{t:C}=q(),F=window==null?void 0:window.globalConfig.loginTitle,I=window==null?void 0:window.globalConfig.loginSubTitle,v=A(""),{loading:h,setLoading:y}=se(),P=x(),r=oe("login-config",{rememberPassword:!0,username:"admin",password:"123456"}),t=G({username:r.value.username,password:r.value.password}),V=async({errors:e,values:s})=>{if(!h.value&&!e){y(!0);try{await P.login(s);const{redirect:i,...d}=w.currentRoute.value.query;var l=i;l=="notFound"&&(l="home"),w.replace({name:l||"home",query:{...d}}),O.success({content:C("login.form.login.success"),id:"menuNotice"});const{rememberPassword:c}=r.value,{username:f,password:b}=s;r.value.username=c?f:"",r.value.password=c?b:""}catch(i){v.value=i.message}finally{y(!1)}}},$=e=>{r.value.rememberPassword=e},B=e=>{k("reback",e)};return(e,s)=>{const l=S("icon-user"),i=Q,d=R,c=S("icon-lock"),f=U,b=W,N=Y,T=j,D=J,L=K;return E(),H("div",re,[m("div",ne,n(_(F)),1),m("div",te,[g(n(_(I))+" ",1),le]),m("div",ie,n(v.value),1),o(L,{ref:"loginForm",model:t,class:"login-form",layout:"vertical",onSubmit:V},{default:a(()=>[o(d,{field:"username",rules:[{required:!0,message:e.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[o(i,{modelValue:t.username,"onUpdate:modelValue":s[0]||(s[0]=p=>t.username=p),placeholder:e.$t("login.form.userName.placeholder")},{prefix:a(()=>[o(l)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(d,{field:"password",rules:[{required:!0,message:e.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[o(f,{modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=p=>t.password=p),placeholder:e.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:a(()=>[o(c)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(D,{size:16,direction:"vertical"},{default:a(()=>[m("div",me,[o(b,{checked:"rememberPassword","model-value":_(r).rememberPassword,onChange:$},{default:a(()=>[g(n(e.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value","onChange"]),o(N,{onClick:s[2]||(s[2]=p=>B("forget"))},{default:a(()=>[g(n(e.$t("login.form.forgetPassword")),1)]),_:1})]),o(T,{type:"primary","html-type":"submit",long:"",loading:_(h)},{default:a(()=>[g(n(e.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}});const ye=M(ue,[["__scopeId","data-v-eb5bdb09"]]);export{ye as default};
