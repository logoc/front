import{u as se,_ as ce}from"./index.a2bf8911.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{c as re,d as ie,e as c,r as S,o as de,w as pe,aL as y,C as p,D as w,aI as t,u as i,aH as e,aN as n,aK as z,aJ as L,aE as T,aO as m,c0 as me,aS as U,bL as _e,bM as fe,bb as ge,b_ as he,c4 as Fe,bj as ve,b9 as be,ce as Ee,aW as xe,aY as ye,ba as we,bP as Ce,bO as ke}from"./arco.b02d9b55.js";import{u as De}from"./loading.7f7bf96d.js";import{c as M}from"./cloneDeep.bb231cd9.js";import{a as Be,b as Ve,e as Ne}from"./project.2f54d37c.js";import{a as Ie}from"./index.c4821ce7.js";import Se from"./EditForm.d9b16f97.js";import{I as ze}from"./Icon.031e5930.js";import{h as Le}from"./vue.e4c26cfd.js";import"./chart.67655b2c.js";/* empty css               *//* empty css               */import"./IconPicker.7129cb1a.js";const Te=re(()=>[{title:"\u7F16\u53F7",dataIndex:"id",slotName:"id",width:80,align:"center"},{title:"\u5408\u4F5C\u5E73\u53F0",dataIndex:"platform",slotName:"platform",width:100,fixed:"left",align:"center"},{title:"\u5408\u4F5C\u65F6\u95F4",dataIndex:"cooperate_time",slotName:"cooperate_time",width:115,align:"center"},{title:"\u8D26\u53F7\u7C7B\u578B",dataIndex:"account_type",slotName:"account_type",width:100,align:"center"},{title:"\u8D26\u53F7\u6635\u79F0",dataIndex:"account_nikename",slotName:"account_nikename",tooltip:{position:"left"},ellipsis:!0,width:160,align:"center"},{title:"\u7C89\u4E1D\u6570",dataIndex:"fanscnt",slotName:"fanscnt",width:100,align:"center"},{title:"\u53D1\u5E03\u94FE\u63A5",dataIndex:"publish_link",slotName:"publish_link",ellipsis:!0,tooltip:{position:"left"},width:150,align:"center"},{title:"\u5408\u4F5C\u5F62\u5F0F",dataIndex:"cooperate_type",slotName:"cooperate_type",width:120,align:"center"},{title:"\u5E73\u53F0\u4EF7/\u520A\u4F8B",dataIndex:"platform_price",slotName:"platform_price",width:120,align:"center"},{title:"\u6267\u884C\u4EF7\uFF08\u542B\u7A0E\uFF09",dataIndex:"actual_price",slotName:"actual_price",width:130,align:"center"},{title:"\u6298\u6263\u8BF4\u660E",dataIndex:"discount_note",slotName:"discount_note",width:120,align:"center"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",width:100,fixed:"right",align:"center"}]),Ue={class:"container"},Me={name:"article"},Ae=ie({...Me,setup(Re){const C=Le();se();const[A,{openModal:R}]=Ie(),F=c([]),v=c([]),P=S({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),s=S({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0});document.documentElement.clientHeight;const{loading:O,setLoading:k}=De(!0),D=c([]),_=c([]),K=c([]);c("large");const B=()=>({platform:["\u4E0D\u9650"],fansCnt:"0",priceRange:"0",accountType:["\u4E0D\u9650"],projectNo:"",cooperateTime:0,accountNikeName:"",downloadAll:!1}),u=c(B()),r=async()=>{k(!0),Y();try{const l=await Be({page:s.current,pageSize:s.pageSize,...u.value});D.value=l.items,s.current=l.page,s.total=l.total}catch{}finally{k(!1)}},Y=async()=>{try{const l=await Ve({});F.value.length=0,v.value.length=0;for(let o of l.items)o.cate_type=="platform"?F.value.push(o):o.cate_type=="account_type"&&v.value.push(o)}catch{}};de(()=>{});const j=()=>{r()},H=()=>{u.value=B(),r()};window==null||window.globalConfig.Main_url;const $=async()=>{try{const l=await Ne(u.value);if(l.status==200){const o=new Blob([l.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),f=URL.createObjectURL(o),d=document.createElement("a");d.href=f,d.download="\u53D1\u6587\u6570\u636E.xlsx",d.click()}else U.error({content:"\u4E0B\u8F7D\u5931\u8D25!",id:"upStatus"})}catch(l){console.error(l),U.error({content:"\u4E0B\u8F7D\u5931\u8D25",id:"upStatus"})}};r(),pe(()=>Te.value,l=>{_.value=M(l),_.value.forEach((o,f)=>{o.checked=!0}),K.value=M(_.value)},{deep:!0,immediate:!0});const G=async l=>{R(!0,{isUpdate:!0,record:l})},J=async()=>{r()},W=l=>{s.current=l,r()},q=l=>{s.pageSize=l,r()},Q=[{label:"\u4E0D\u9650",value:"0"},{label:"1\u4E07\u4EE5\u4E0B",value:"0-10000"},{label:"1\uFF5E5\u4E07",value:"1-50000"},{label:"5\uFF5E10\u4E07",value:"50000-100000"}],X=[{label:"\u4E0D\u9650",value:"0"},{label:"1000\u5143\u4EE5\u4E0B",value:"0-1000"},{label:"1000\uFF5E5000\u5143",value:"1000-5000"},{label:"5000\uFF5E10000\u5143",value:"5000-10000"},{label:"1\u4E07\u5143\uFF5E5\u4E07\u5143",value:"100000-500000"},{label:"5\u4E07\u5143\uFF5E20\u4E07\u5143",value:"500000-2000000"},{label:"20\u4E07\u5143\u4EE5\u4E0A",value:"2000000-1000000000"}],Z=[{label:"\u4E0D\u9650",value:0},{label:"\u8FD130\u5929",value:30},{label:"\u8FD190\u5929",value:90},{label:"\u8FD1180\u5929",value:180},{label:"\u8FD11\u5E74",value:365}];return(l,o)=>{const f=y("Breadcrumb"),d=_e,g=fe,b=ge,h=he,E=Fe,V=ve,N=be,ee=Ee,te=xe,ae=y("icon-search"),x=ye,oe=y("icon-download"),le=we,ue=Ce,ne=ke;return p(),w("div",Ue,[t(f,{items:[i(C).matched[0].meta.locale,i(C).meta.locale]},null,8,["items"]),t(ne,{class:"general-card onelineCard",style:{height:"calc(100% - 50px)"}},{default:e(()=>[t(E,{style:{"margin-bottom":"10px"}},{default:e(()=>[t(h,{span:24},{default:e(()=>[t(b,{size:"large"},{default:e(()=>[t(g,{modelValue:u.value.platform,"onUpdate:modelValue":o[0]||(o[0]=a=>u.value.platform=a),placeholder:"\u5E73\u53F0\u7C7B\u578B",style:{width:"220px"}},{prefix:e(()=>[n("\u5E73\u53F0\u7C7B\u578B:")]),default:e(()=>[(p(!0),w(z,null,L(F.value,a=>(p(),T(d,{value:a.cate},{default:e(()=>[n(m(a.cate),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),t(g,{modelValue:u.value.fansCnt,"onUpdate:modelValue":o[1]||(o[1]=a=>u.value.fansCnt=a),options:Q,placeholder:"\u7C89\u4E1D\u6570",style:{width:"220px"}},{prefix:e(()=>[n("\u7C89\u4E1D\u6570:")]),_:1},8,["modelValue"]),t(g,{modelValue:u.value.priceRange,"onUpdate:modelValue":o[2]||(o[2]=a=>u.value.priceRange=a),options:X,placeholder:"\u4EF7\u683C\u533A\u95F4",style:{width:"250px"}},{prefix:e(()=>[n(" \u5E73\u53F0\u4EF7: ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(E,{style:{"margin-bottom":"10px"}},{default:e(()=>[t(h,{span:24},{default:e(()=>[t(ee,{modelValue:u.value.accountType,"onUpdate:modelValue":o[3]||(o[3]=a=>u.value.accountType=a)},{default:e(()=>[t(V,{size:"large"},{default:e(()=>[n("\u8D26\u53F7\u7C7B\u578B:")]),_:1}),(p(!0),w(z,null,L(v.value,a=>(p(),T(N,{key:a,value:a.cate},{checkbox:e(({checked:I})=>[t(V,{size:"large",checked:I,"default-checked":"",checkable:"",color:"arcoblue"},{default:e(()=>[n(m(a.cate),1)]),_:2},1032,["checked"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(E,{style:{"margin-bottom":"10px"}},{default:e(()=>[t(h,{span:14},{default:e(()=>[t(b,null,{default:e(()=>[t(te,{style:{width:"300px"},modelValue:u.value.accountNikeName,"onUpdate:modelValue":o[4]||(o[4]=a=>u.value.accountNikeName=a),placeholder:"\u8D26\u53F7\u6635\u79F0","allow-clear":""},{prefix:e(()=>[n("\u8D26\u53F7\u6635\u79F0: ")]),_:1},8,["modelValue"]),t(g,{style:{width:"200px"},options:Z,modelValue:u.value.cooperateTime,"onUpdate:modelValue":o[5]||(o[5]=a=>u.value.cooperateTime=a),placeholder:"\u5408\u4F5C\u65F6\u95F4"},{prefix:e(()=>[n("\u5408\u4F5C\u65F6\u95F4: ")]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(h,{span:10,style:{"text-align":"right"}},{default:e(()=>[t(b,null,{default:e(()=>[t(x,{type:"primary",onClick:j},{icon:e(()=>[t(ae)]),default:e(()=>[n(" \u67E5\u8BE2 ")]),_:1}),t(x,{onClick:H},{default:e(()=>[n(m(l.$t("searchTable.form.reset")),1)]),_:1}),t(N,{modelValue:u.value.downloadAll,"onUpdate:modelValue":o[6]||(o[6]=a=>u.value.downloadAll=a)},{default:e(()=>[n("\u5168\u9009\u4E0B\u8F7D")]),_:1},8,["modelValue"]),t(x,{type:"primary",onClick:$},{icon:e(()=>[t(oe)]),default:e(()=>[n("\u5BFC\u51FA ")]),_:1})]),_:1})]),_:1})]),_:1}),t(ue,{"row-selection":P,selectedKeys:u.value.selectedKeys,"onUpdate:selectedKeys":o[7]||(o[7]=a=>u.value.selectedKeys=a),"row-key":"id",loading:i(O),pagination:s,columns:_.value,data:D.value,bordered:{wrapper:!0,cell:!0},size:"large",scroll:{x:800},"default-expand-all-rows":!0,ref:"artable",onPageChange:W,onPageSizeChange:q},{cooperate_time:e(({record:a})=>[n(m(i(me)(a.cooperate_time*1e3).format("YYYY-MM-DD")),1)]),publish_link:e(({record:a})=>[t(le,{href:a.publish_link,status:"success",target:"_blank"},{default:e(()=>[n(m(a.publish_link),1)]),_:2},1032,["href"])]),operations:e(({record:a})=>[t(i(ze),{icon:"svgfont-chakan",class:"iconbtn",onClick:I=>G(a),size:18,color:"#0960bd"},null,8,["onClick"])]),_:1},8,["row-selection","selectedKeys","loading","pagination","columns","data"])]),_:1}),t(Se,{onRegister:i(A),onSuccess:J},null,8,["onRegister"])])}}});const ft=ce(Ae,[["__scopeId","data-v-9cfa90e2"]]);export{ft as default};
