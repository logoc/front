import{u as G,_ as q}from"./index.a2bf8911.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{d as J,r as K,e as r,o as Q,w as W,aL as x,C as d,D as _,aI as a,aH as o,aN as u,G as X,u as i,aO as p,aF as k,c0 as Z,aS as f,aY as ee,bb as te,b_ as ae,bv as oe,c4 as ne,b$ as se,c6 as ce,bP as re,bO as ie}from"./arco.b02d9b55.js";import{u as le}from"./loading.7f7bf96d.js";import{c as w}from"./cloneDeep.bb231cd9.js";import{A as ue,g as pe,d as me}from"./AddForm.52660d2b.js";import{c as de}from"./data.8973f6a6.js";import{a as _e}from"./index.c4821ce7.js";import{I as F}from"./Icon.031e5930.js";import{h as fe}from"./vue.e4c26cfd.js";import"./chart.67655b2c.js";/* empty css               */import"./IconPicker.7129cb1a.js";const ge={class:"container"},he={key:0,style:{"padding-left":"5px",color:"var(--color-neutral-4)"}},ye=["alt","src"],ve={name:"article"},be=J({...ve,setup(Ce){fe(),G();const[S,{openModal:g}]=_e(),s=K({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0});document.documentElement.clientHeight;const{loading:D,setLoading:h}=le(!0),y=r([]),l=r([]),z=r([]);r("large");const M=r((()=>({cate_type:"platform"}))()),c=async()=>{h(!0);try{const e=await pe({page:s.current,pageSize:s.pageSize,...M.value});y.value=e.items,s.current=e.page,s.total=e.total}catch{}finally{h(!1)}};Q(()=>{});const P=()=>{c()};c(),W(()=>de.value,e=>{l.value=w(e),l.value.forEach((n,v)=>{n.checked=!0}),z.value=w(l.value)},{deep:!0,immediate:!0});const B=()=>{g(!0,{isUpdate:!1,record:null})},E=async e=>{g(!0,{isUpdate:!0,record:e})},T=async()=>{c()},I=e=>{s.current=e,c()},N=e=>{s.pageSize=e,c()},R=async e=>{try{f.loading({content:"\u5220\u9664\u4E2D",id:"upStatus"}),await me({id:e.id})&&f.success({content:"\u5220\u9664\u6210\u529F",id:"upStatus"}),c()}catch{f.clear("top")}},Y=e=>{var n="";return e=="platform"?n="\u5408\u4F5C\u5E73\u53F0":e=="cooperate_type"?n="\u5408\u4F5C\u5F62\u5F0F":e=="account_type"&&(n="\u8D26\u53F7\u7C7B\u578B"),n};return(e,n)=>{const v=x("icon-plus"),A=ee,b=te,C=ae,L=x("icon-refresh"),O=oe,V=ne,$=se,j=ce,H=re,U=ie;return d(),_("div",ge,[a(U,{class:"general-card onelineCard",style:{height:"calc(100% - 50px)"}},{default:o(()=>[a(V,{style:{"margin-bottom":"10px"}},{default:o(()=>[a(C,{span:12,style:{"text-align":"left"}},{default:o(()=>[a(b,null,{default:o(()=>[a(A,{type:"primary",onClick:B},{icon:o(()=>[a(v)]),default:o(()=>[u(" \u65B0\u589E ")]),_:1})]),_:1})]),_:1}),a(C,{span:12,style:{"text-align":"right"}},{default:o(()=>[a(b,null,{default:o(()=>[a(O,{content:e.$t("searchTable.actions.refresh")},{default:o(()=>[X("div",{class:"action-icon",onClick:P},[a(L,{size:"18"})])]),_:1},8,["content"])]),_:1})]),_:1})]),_:1}),a(H,{"row-key":"id",loading:i(D),pagination:s,columns:l.value,data:y.value,bordered:{wrapper:!0,cell:!0},size:"large",scroll:{x:800},"default-expand-all-rows":!0,ref:"artable",onPageChange:I,onPageSizeChange:N},{name:o(({record:t})=>[u(p(t.name),1),t.nickname?(d(),_("span",he,p(t.nickname),1)):k("",!0)]),mimetype:o(({record:t})=>[t.mimetype.includes("image")||t.mimetype.includes("video")?(d(),_("img",{key:0,alt:t.title,style:{height:"50px","border-radius":"5px"},src:t.mimetype.includes("image")?t.url:t.cover_url},null,8,ye)):k("",!0)]),createtime:o(({record:t,column:m})=>[u(p(i(Z)(t[m.dataIndex]*1e3).format("YYYY-MM-DD")),1)]),cate_type:o(({record:t})=>[u(p(Y(t.cate_type)),1)]),operations:o(({record:t})=>[a(i(F),{icon:"svgfont-bianji1",class:"iconbtn",onClick:m=>E(t),size:18,color:"#0960bd"},null,8,["onClick"]),a($,{direction:"vertical"}),a(j,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:m=>R(t)},{default:o(()=>[a(i(F),{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data"])]),_:1}),a(ue,{onRegister:i(S),onSuccess:T},null,8,["onRegister"])])}}});const Xe=q(be,[["__scopeId","data-v-ff9cacd9"]]);export{Xe as default};
